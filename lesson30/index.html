<script>
  /*fetch("https://jsonplaceholder.typicode.com/todos")
    .then((res) => res.json())
    .then((data) => {
      console.log(data);
      const long = data
        // .filter((l) => l.title.length <= 20)
        // .filter((c) => !c.completed)
        .map((element) => {
          if (element.title.length > 15) {
            element.title = element.title.slice(0, 12) + "...";
          }
          return element;
        });
      console.log(long);
    })
    .catch((e) => {
      console.error(e);
    });*/
  fetch("https://jsonplaceholder.typicode.com/users")
    .then((res) => res.json())
    .then((data) => {
      console.log(data);
      const long = data
        .map((item) => item.email)
        .sort((a, b) => {
          if (a > b) {
            return 1;
          } else if (a < b) {
            return -1;
          }
          return 0;
        });
      console.log(long);
      const long1 = long.map((mail) =>
        mail.split("@").pop().split(".").shift()
      );
      console.log(long1);
      const phones = data.map((item) => ({ phone: item.phone, sum: 0 }));
      phones.forEach((obj) => {
        obj.sum = obj.phone.split("").reduce((a, b) => {
          let n = Number(b);
          if (n) {
            return a + n;
          }
          return a;
        }, 0);
      });
      console.log(phones);
    })
    .catch((e) => {
      console.error(e);
    });
</script>
